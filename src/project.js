window.__require=function e(t,n,o){function i(l,a){if(!n[l]){if(!t[l]){var s=l.split("/");if(s=s[s.length-1],!t[s]){var h="function"==typeof __require&&__require;if(!a&&h)return h(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+l+"'")}}var u=n[l]={exports:{}};t[l][0].call(u.exports,function(e){return i(t[l][1][e]||e)},u,u.exports,e,t,n,o)}return n[l].exports}for(var c="function"==typeof __require&&__require,l=0;l<o.length;l++)i(o[l]);return i}({RankingView:[function(e,t,n){"use strict";cc._RF.push(t,"31b76f0LHJJvYnYS2wTyhmH","RankingView"),cc.Class({extends:cc.Component,properties:{beginButton:cc.Node,huaji:cc.Node},onLoad:function(){},start:function(){var e=cc.scaleTo(2,.95,.95),t=cc.scaleTo(2,1.1,1.1),n=cc.scaleTo(2,.95,.95),o=cc.scaleTo(2,1.1,1.1),i=cc.repeat(cc.sequence(e,t),10),c=cc.repeat(cc.sequence(n,o),10);this.beginButton.runAction(i),this.huaji.runAction(c),cc.director.preloadScene("main")},beginGame:function(){cc.director.loadScene("main")}}),cc._RF.pop()},{}],beginJS:[function(e,t,n){"use strict";cc._RF.push(t,"e4a69weVLtOl7FuhsQOvAIK","beginJS"),cc.Class({extends:cc.Component,properties:{startButton:{type:cc.Node,default:null}},onLoad:function(){cc.director.preloadScene("main"),this.startButton.on("touchstart",function(){cc.director.loadScene("main")},this)},start:function(){}}),cc._RF.pop()},{}],bossJS:[function(e,t,n){"use strict";cc._RF.push(t,"3240b4RcAxIZ7HydTjLVTzf","bossJS"),cc.Class({extends:cc.Component,properties:{bossBoomMusic:{type:cc.AudioClip,default:null},boomAnimation:{type:cc.Prefab,default:null}},onCollisionEnter:function(e,t){var n=this,o=cc.find("Canvas").getComponent("mainJS"),i=e.name,c=cc.director.getScene();if("huaji_boss<PolygonCollider>"===t.name){var l=this.node.getChildByName("boss_blood").getComponent(cc.ProgressBar);if("plane<PolygonCollider>"===i||"myb_2<PolygonCollider>"===i||"bike<PolygonCollider>"===i?l.totalLength-=100:"myb_1<PolygonCollider>"===i?l.totalLength-=50:"myb_3<PolygonCollider>"===i||"wukong<PolygonCollider>"===i?l.totalLength-=150:"youshen<PolygonCollider>"===i?l.totalLength-=200:"guibo<CircleCollider>"===i?l.totalLength-=400:"luoxuanwanw<BoxCollider>"===i?l.totalLength-=250:"yuanqidandan<CircleCollider>"===i&&(l.totalLength-=500),l.totalLength<=0&&this.node.parent){l.totalLength=0,o.score+=100,o.scoreLabel.string="\u5f97\u5206:"+o.score,cc.audioEngine.setEffectsVolume(.5),cc.audioEngine.playEffect(this.enemyBoomMusic,!1);var a=cc.instantiate(this.boomAnimation);a.parent=c;var s=t.world.aabb,h=s.x+s.width/2,u=s.y+s.height/2;a.setPosition(h,u),a.getComponent(cc.Animation).play(),o.scheduleOnce(function(){a.removeFromParent(),a.parent=null},1.3);var r=2*Math.random()+2,d=cc.moveBy(r,0,-cc.find("Canvas").height),g=cc.callFunc(function(){n.node.parent=null}),m=cc.scaleBy(1*Math.random()+1,.5),y=cc.sequence(m,d,g).easing(cc.easeCircleActionOut());this.node.runAction(y)}}if("heiwukong<PolygonCollider>"===t.name){var f=this.node.getChildByName("heiwukong_blood").getComponent(cc.ProgressBar);if("plane<PolygonCollider>"===i||"myb_2<PolygonCollider>"===i||"bike<PolygonCollider>"===i?f.totalLength-=100:"myb_1<PolygonCollider>"===i?f.totalLength-=50:"myb_3<PolygonCollider>"===i||"wukong<PolygonCollider>"===i?f.totalLength-=150:"youshen<PolygonCollider>"===i||"guibo<CircleCollider>"===i?f.totalLength-=200:"yuanqidandan<CircleCollider>"!==i&&"luoxuanwanw<BoxCollider>"!==i||(f.totalLength-=500),f.totalLength<=0&&this.node.parent){f.totalLength=0,o.score+=200,o.scoreLabel.string="\u5f97\u5206:"+o.score,cc.audioEngine.setEffectsVolume(.5),cc.audioEngine.playEffect(this.enemyBoomMusic,!1);var p=cc.instantiate(this.boomAnimation);p.parent=c;var P=t.world.aabb,b=P.x+P.width/2,B=P.y+P.height/2;p.setPosition(b,B),p.getComponent(cc.Animation).play(),o.scheduleOnce(function(){p.removeFromParent(),p.parent=null},1.3);var v=2*Math.random()+2,C=cc.moveBy(v,0,-cc.find("Canvas").height),w=cc.callFunc(function(){n.node.parent=null}),F=cc.scaleBy(1*Math.random()+1,.5),S=cc.sequence(F,C,w).easing(cc.easeCircleActionOut());this.node.runAction(S)}}},start:function(){}}),cc._RF.pop()},{}],bulletJS:[function(e,t,n){"use strict";cc._RF.push(t,"39f75K1hIBPZqvfjHyKVyW2","bulletJS"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(e,t){this.node.destroy()},onLoad:function(){},start:function(){}}),cc._RF.pop()},{}],chaoshenshuiJS:[function(e,t,n){"use strict";cc._RF.push(t,"21e3cXXj3ZELpNl9mWUAbFH","chaoshenshuiJS"),cc.Class({extends:cc.Component,properties:{wuKong:cc.Prefab,bike:cc.Prefab,youshen:cc.Prefab},daojuWuKongPoolFun:function(){this.chaoshenshuiWuKongPool=new cc.NodePool;for(var e=0;e<5;e++){var t=cc.instantiate(this.wuKong);this.chaoshenshuiWuKongPool.put(t)}return this.chaoshenshuiWuKongPool},daojuBiKePoolFun:function(){this.chaoshenshuiBiKePool=new cc.NodePool;for(var e=0;e<5;e++){var t=cc.instantiate(this.bike);this.chaoshenshuiBiKePool.put(t)}return this.chaoshenshuiBiKePool},daojuYouShenPoolFun:function(){this.chaoshenshuiYouShenPool=new cc.NodePool;for(var e=0;e<5;e++){var t=cc.instantiate(this.youshen);this.chaoshenshuiYouShenPool.put(t)}return this.chaoshenshuiYouShenPool},onCollisionEnter:function(){var e=this.daojuWuKongPoolFun(),n=[this.daojuBiKePoolFun(),e,this.daojuYouShenPoolFun()][parseInt(2.999*Math.random())];t.exports=n,this.node.destroy()},start:function(){}}),cc._RF.pop()},{}],daojuJS:[function(e,t,n){"use strict";cc._RF.push(t,"23f2fnq8AZMCZq9Y1vUdEY1","daojuJS"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(e,n){var o=["addBlood50","reduceBlood","none","addBlood100","addBlood150"][parseInt(4.999*Math.random())];this.node.destroy(),t.exports=o},start:function(){}}),cc._RF.pop()},{}],enemyJS:[function(e,t,n){"use strict";cc._RF.push(t,"54a34pUg9tAW6S6xZ3rh2pY","enemyJS"),cc.Class({extends:cc.Component,properties:{boomAnimation:{type:cc.Prefab,default:null}},boomFun:function(e,t,n,o){var i=cc.find("Canvas").getComponent("mainJS"),c=e.name;if("plane<PolygonCollider>"===c||"myb_2<PolygonCollider>"===c||"bike<PolygonCollider>"===c?n.totalLength-=100:"myb_1<PolygonCollider>"===c?n.totalLength-=50:"myb_3<PolygonCollider>"===c||"wukong<PolygonCollider>"===c?n.totalLength-=150:"guibo<CircleCollider>"===c||"youshen<PolygonCollider>"===c?n.totalLength-=200:"luoxuanwanw<BoxCollider>"===c?n.totalLength-=250:"yuanqidandan<CircleCollider>"===c&&(n.totalLength-=500),n.totalLength<=0){i.score+=o,i.scoreLabel.string="\u5f97\u5206:"+i.score;var l=cc.director.getScene(),a=cc.instantiate(this.boomAnimation);a.parent=l;var s=t.world.aabb,h=s.x+s.width/2,u=s.y+s.height/2;a.setPosition(h,u),a.getComponent(cc.Animation).play(),i.scheduleOnce(function(){a.removeFromParent(),a.parent=null},1.3),this.node.destroy()}},onCollisionEnter:function(e,t){if("fulisha<PolygonCollider>"===t.name){var n=this.node.getChildByName("enemt_blood").getComponent(cc.ProgressBar);this.boomFun(e,t,n,10)}if("ladici<PolygonCollider>"===t.name){var o=this.node.getChildByName("ladici_blood").getComponent(cc.ProgressBar);this.boomFun(e,t,o,20)}if("beijita<PolygonCollider>"===t.name){var i=this.node.getChildByName("beijita_blood").getComponent(cc.ProgressBar);this.boomFun(e,t,i,30)}},onLoad:function(){cc.director.getCollisionManager().enabled=!0},start:function(){},update:function(e){}}),cc._RF.pop()},{}],enemy_bullet_JS:[function(e,t,n){"use strict";cc._RF.push(t,"c5a5fdIWbxOnIPXB2HNYG19","enemy_bullet_JS"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(e,t){this.node.destroy()},start:function(){}}),cc._RF.pop()},{}],enemy_one_JS:[function(e,t,n){"use strict";cc._RF.push(t,"67341BBqIFLqZ/HWKARcGSi","enemy_one_JS"),cc.Class({extends:cc.Component,properties:{enemyBoomMusic:{type:cc.AudioClip,default:null},boomAnimation:{type:cc.Prefab,default:null}},onCollisionEnter:function(e,t){var n=cc.find("Canvas").getComponent("mainJS");n.score+=5,n.scoreLabel.string="\u5f97\u5206:"+n.score,cc.audioEngine.setEffectsVolume(.5),cc.audioEngine.playEffect(this.enemyBoomMusic,!1);var o=cc.director.getScene(),i=cc.instantiate(this.boomAnimation);i.parent=o;var c=t.world.aabb,l=c.x+c.width/2,a=c.y+c.height/2;i.setPosition(l,a),i.getComponent(cc.Animation).play(),n.scheduleOnce(function(){i.removeFromParent(),i.parent=null},1.3),this.node.destroy()},update:function(e){}}),cc._RF.pop()},{}],fire_dao_JS:[function(e,t,n){"use strict";cc._RF.push(t,"183270ZXeBOf4VW4ARcraN5","fire_dao_JS"),cc.Class({extends:cc.Component,properties:{bulletOne:{type:cc.Prefab,default:null},bulletTwo:{type:cc.Prefab,default:null},bulletThree:{type:cc.Prefab,default:null},guibo:cc.Prefab,luoxuanwan:cc.Prefab},bulletPoolOneInit:function(){this.myBulletPoolOne=new cc.NodePool;for(var e=0;e<90;e++){var t=cc.instantiate(this.bulletOne);this.myBulletPoolOne.put(t)}return this.myBulletPoolOne},bulletPoolTwoInit:function(){this.myBulletPoolTwo=new cc.NodePool;for(var e=0;e<80;e++){var t=cc.instantiate(this.bulletTwo);this.myBulletPoolTwo.put(t)}return this.myBulletPoolTwo},bulletPoolThreeInit:function(){this.myBulletPoolThree=new cc.NodePool;for(var e=0;e<70;e++){var t=cc.instantiate(this.bulletThree);this.myBulletPoolThree.put(t)}return this.myBulletPoolThree},bulletPoolGuiBoInit:function(){this.myBulletPoolGuiBo=new cc.NodePool;for(var e=0;e<60;e++){var t=cc.instantiate(this.guibo);this.myBulletPoolGuiBo.put(t)}return this.myBulletPoolGuiBo},bulletPoolLuoxuanwanInit:function(){this.myBulletPoolluoxuanwan=new cc.NodePool;for(var e=0;e<50;e++){var t=cc.instantiate(this.luoxuanwan);this.myBulletPoolluoxuanwan.put(t)}return this.myBulletPoolluoxuanwan},onCollisionEnter:function(e,n){var o=[this.bulletPoolOneInit(),this.bulletPoolTwoInit(),this.bulletPoolThreeInit(),this.bulletPoolGuiBoInit(),this.bulletPoolLuoxuanwanInit()][parseInt(4.999*Math.random())];t.exports=o,this.node.destroy()},start:function(){}}),cc._RF.pop()},{}],friendJS:[function(e,t,n){"use strict";cc._RF.push(t,"bec19k9LkBNspUTeI85ZsNL","friendJS"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],gameoverJS:[function(e,t,n){"use strict";cc._RF.push(t,"f52adn/wgxNnL8QsLTMhLGn","gameoverJS"),cc.Class({extends:cc.Component,properties:{button:{type:cc.Node,default:null},scoreLabel:{type:cc.Label,default:null},goubackButton:{type:cc.Node,default:null}},start:function(){this.scoreLabel.string="\u6e38\u620f\u5f97\u5206:"+cc.sys.localStorage.getItem("score"),cc.director.preloadScene("main"),cc.director.preloadScene("RankingView"),this.button.on("touchstart",function(e){cc.director.loadScene("main")},this),this.goubackButton.on("touchstart",function(e){cc.director.loadScene("RankingView")},this)}}),cc._RF.pop()},{}],mainJS:[function(e,t,n){"use strict";cc._RF.push(t,"e9aedb3Vp1IoJe9ZUcqyk91","mainJS"),cc.Class({extends:cc.Component,properties:{bgMusic:{type:cc.AudioClip,default:null},plane:{type:cc.Node,default:null},bullet:{type:cc.Prefab,default:null},enemy:{type:cc.Prefab,default:null},enemyBullet:{type:cc.Prefab,default:null},enemyOne:{type:cc.Prefab,default:null},ladiciBullet:cc.Prefab,enemyThreeLaDiCi:cc.Prefab,enemyFourBeiJiTa:cc.Prefab,boss:{type:cc.Prefab,default:null},bossBullet:cc.Prefab,scoreLabel:{type:cc.Label,default:null},daoju:{type:cc.Prefab,default:null},fireDaoju:{type:cc.Prefab,default:null},bisha:cc.Prefab,friendWuKong:cc.Prefab,chaoshenshui:cc.Prefab,bishachuxian:cc.Prefab,yuanqidan:cc.Prefab,heiwukong:cc.Prefab,heiwukongBullet:cc.Prefab,score:0,bishaFlag:0},daojuFall:function(){var e=cc.director.getScene(),t=cc.instantiate(this.daoju);t.parent=e,t.setPosition(Math.random()*(this.width-t.width)+t.width/2,this.height);var n=cc.moveBy(3*Math.random()+3,cc.v2(0,-this.height)),o=cc.callFunc(t.destroy,t),i=cc.sequence(n,o);t.runAction(i)},fireDaojuFall:function(){var e=cc.director.getScene(),t=cc.instantiate(this.fireDaoju);t.parent=e,t.setPosition(Math.random()*(this.width-t.width)+t.width/2,this.height);var n=cc.moveBy(3*Math.random()+3,cc.v2(0,-this.height)),o=cc.callFunc(t.destroy,t),i=cc.sequence(n,o);t.runAction(i)},chaoshenshuiFall:function(){var e=cc.director.getScene(),t=cc.instantiate(this.chaoshenshui);t.parent=e,t.setPosition(Math.random()*(this.width-t.width)+t.width/2,this.height);var n=cc.moveBy(3*Math.random()+3,cc.v2(0,-this.height)),o=cc.callFunc(t.destroy,t),i=cc.sequence(n,o);t.runAction(i)},bishaFall:function(){var e=cc.director.getScene(),t=cc.instantiate(this.bisha);t.parent=e,t.setPosition(Math.random()*(this.width-t.width)+t.width/2,this.height);var n=cc.moveBy(3*Math.random()+3,cc.v2(0,-this.height)),o=cc.callFunc(t.destroy,t),i=cc.sequence(n,o);t.runAction(i)},enemyPlaneOnePoolFun:function(){this.enemyPlaneOnePool=new cc.NodePool;for(var e=0;e<1e3;e++)this.enemyPlaneOnePool.put(cc.instantiate(this.enemyOne))},createEnemyPlaneOne:function(){var e=this,t=cc.director.getScene(),n=null;(n=this.enemyPlaneOnePool.size()>0?this.enemyPlaneOnePool.get():cc.instantiate(this.enemyOne)).parent=t,n.setPosition(Math.random()*(this.width-n.width)+n.width/2,this.height);var o=2*Math.random()+2,i=cc.moveBy(o,Math.random()*this.width/2-this.width/4,-this.height-50),c=[cc.v2(0,t.height/2),cc.v2(300,-t.height/2),cc.v2(0,0)],l=cc.bezierBy(3,c),a=cc.callFunc(function(){e.enemyPlaneOnePool.put(n)}),s=cc.spawn(i,l),h=cc.sequence(s,a);n.runAction(h)},enemyPlanePoolFun:function(){this.enemyPlanePool=new cc.NodePool;for(var e=0;e<1e3;e++){var t=cc.instantiate(this.enemy);this.enemyPlanePool.put(t)}},enemyPlaneBulletPollFun:function(){this.enemyPlaneBulletPool=new cc.NodePool;for(var e=0;e<50;e++)this.enemyPlaneBulletPool.put(cc.instantiate(this.enemyBullet))},getEnemyPosition:function(){var e=630*Math.random()+60,t=this.height;return cc.v2(e,t)},enemyAppear:function(){var e=this,t=null;t=this.enemyPlanePool.size()>0?this.enemyPlanePool.get():cc.instantiate(this.enemy);var n=cc.director.getScene();t.parent=n,t.setPosition(this.getEnemyPosition());var o=6*Math.random()+6,i=cc.moveBy(o,cc.v2(0,-this.height-50)),c=cc.callFunc(function(){e.enemyPlanePool.put(t)}),l=cc.sequence(i,c);t.runAction(l);var a=null;(a=this.enemyPlaneBulletPool.size()>0?this.enemyPlaneBulletPool.get():cc.instantiate(this.enemyBullet)).parent=n,a.setPosition(t.x,t.y);var s=cc.moveBy(3*Math.random()+3,cc.v2(0,-this.height)),h=cc.callFunc(function(){e.enemyPlaneBulletPool.put(a)}),u=cc.sequence(s,h);a.runAction(u)},enemyladiciBulletPoolFun:function(){this.enemyladiciBulletPool=new cc.NodePool;for(var e=0;e<50;e++)this.enemyladiciBulletPool.put(cc.instantiate(this.ladiciBullet))},enemyPlaneThreePoolFun:function(){this.enemyPlaneThreePool=new cc.NodePool;for(var e=0;e<1e3;e++)this.enemyPlaneThreePool.put(cc.instantiate(this.enemyThreeLaDiCi))},createEnemyPlaneThree:function(){var e=this,t=cc.director.getScene(),n=null;(n=this.enemyPlaneThreePool.size()>0?this.enemyPlaneThreePool.get():cc.instantiate(this.enemyThreeLaDiCi)).parent=t,n.setPosition(Math.random()*(this.width-n.width)+n.width/2,this.height);var o=3*Math.random()+3,i=cc.moveBy(o,Math.random()*this.width/2-this.width/4,-this.height-50),c=cc.rotateBy(o,2048*Math.random()+2048),l=cc.callFunc(function(){e.enemyPlaneThreePool.put(n)}),a=cc.spawn(i,c).easing(cc.easeInOut(3)),s=cc.sequence(a,l);n.runAction(s);var h=null;(h=this.enemyladiciBulletPool.size()>0?this.enemyladiciBulletPool.get():cc.instantiate(this.ladiciBullet)).parent=t,h.setPosition(n.x,n.y);var u=cc.moveBy(2*Math.random()+2,cc.v2(0,-this.height)),r=cc.callFunc(function(){e.enemyladiciBulletPool.put(h)}),d=cc.sequence(u,r);h.runAction(d)},enemyPlaneFourPoolFun:function(){this.enemyPlaneFourPool=new cc.NodePool;for(var e=0;e<1e3;e++)this.enemyPlaneFourPool.put(cc.instantiate(this.enemyFourBeiJiTa))},createEnemyPlaneFour:function(){var e=this,t=cc.director.getScene(),n=null;(n=this.enemyPlaneFourPool.size()>0?this.enemyPlaneFourPool.get():cc.instantiate(this.enemyFourBeiJiTa)).parent=t,n.setPosition(Math.random()*(this.width-n.width)+n.width/2,this.height);var o=2*Math.random()+2,i=cc.moveBy(o,Math.random()*this.width/2-this.width/4,-this.height-50),c=cc.jumpBy(2,-100,0,-50,4),l=cc.callFunc(function(){e.enemyPlaneFourPool.put(n)}),a=cc.spawn(i,c),s=cc.sequence(a,l).easing(cc.easeOut(3));n.runAction(s)},BossBulletPollFun:function(){this.bossBulletPool=new cc.NodePool;for(var e=0;e<50;e++)this.bossBulletPool.put(cc.instantiate(this.bossBullet))},bossCreate:function(){var e=cc.director.getScene(),t=cc.instantiate(this.boss);t.parent=e,t.setPosition(this.width/2,this.height);var n=cc.moveTo(2*Math.random()+1,this.width/2,this.height-200),o=cc.scaleBy(2*Math.random()+1,1.5),i=cc.moveTo(2*Math.random()+2,t.width-50,this.height-200),c=cc.moveTo(2*Math.random()+2,this.width-t.width+50,this.height-200),l=cc.repeat(cc.sequence(i,c),30),a=cc.spawn(n,o),s=cc.sequence(a,l);t.runAction(s),this.callback=function(){var n=this;if(null!==t.parent){var o=null;(o=this.bossBulletPool.size()>0?this.bossBulletPool.get():cc.instantiate(this.bossBullet)).parent=e,o.setPosition(t.x,t.y);var i=cc.moveBy(.5*Math.random()+1.5,cc.v2(0,-this.height)),c=cc.callFunc(function(){n.bossBulletPool.put(o)}),l=cc.sequence(i,c);o.runAction(l)}else this.unschedule(this.callback)},this.schedule(this.callback,1*Math.random()+1)},heiwukongBulletPollFun:function(){this.heiwukongBulletPool=new cc.NodePool;for(var e=0;e<50;e++)this.heiwukongBulletPool.put(cc.instantiate(this.heiwukongBullet))},heiwukongBossCreate:function(){var e=cc.director.getScene(),t=cc.instantiate(this.heiwukong);t.parent=e,t.setPosition(this.width/2,this.height);var n=cc.moveTo(2*Math.random()+1,this.width/2,this.height-200),o=cc.scaleBy(2*Math.random()+1,1.5),i=cc.moveTo(3*Math.random()+3,t.width-50,this.height-200),c=cc.moveTo(3*Math.random()+3,this.width-t.width+50,this.height-200),l=cc.repeat(cc.sequence(i,c),30),a=cc.spawn(n,o),s=cc.sequence(a,l);t.runAction(s),this.callback=function(){var n=this;if(null!==t.parent){var o=null,i=null,c=null;this.heiwukongBulletPool.size()>0?(o=this.heiwukongBulletPool.get(),i=this.heiwukongBulletPool.get(),c=this.heiwukongBulletPool.get()):(o=cc.instantiate(this.heiwukongBullet),i=cc.instantiate(this.heiwukongBullet),c=cc.instantiate(this.heiwukongBullet)),o.parent=e,i.parent=e,c.parent=e,o.setPosition(t.x-300,t.y);var l=cc.moveBy(1*Math.random()+2,cc.v2(0,-this.height)),a=cc.callFunc(function(){n.heiwukongBulletPool.put(o)}),s=cc.sequence(l,a);o.runAction(s),i.setPosition(t.x,t.y);var h=cc.moveBy(1*Math.random()+2,cc.v2(0,-this.height)),u=cc.callFunc(function(){n.heiwukongBulletPool.put(i)}),r=cc.sequence(h,u);i.runAction(r),c.setPosition(t.x+300,t.y);var d=cc.moveBy(1*Math.random()+2,cc.v2(0,-this.height)),g=cc.callFunc(function(){n.heiwukongBulletPool.put(c)}),m=cc.sequence(d,g);c.runAction(m)}else this.unschedule(this.callback)},this.schedule(this.callback,1.5*Math.random()+1.5)},friendWuKongPoolFun:function(){this.friendWuKongPool=new cc.NodePool;for(var e=0;e<5;e++){var t=cc.instantiate(this.friendWuKong);this.friendWuKongPool.put(t)}},createFriendWukong:function(){var t=e("playerJS"),n=e("chaoshenshuiJS");"chaoshenshui_flag"===t&&(t="",this.friendWuKongPool=n);var o=cc.director.getScene(),i=null;if(this.friendWuKongPool.size()>0){(i=this.friendWuKongPool.get()).parent=o,i.setPosition(Math.random()*(this.width-i.width)+i.width/2,0);var c=cc.moveBy(2,0,this.height),l=cc.callFunc(function(){i.destroy()}),a=cc.sequence(c,l);i.runAction(a)}},myBulletNodePoolFun:function(){this.myBulletNodePool=new cc.NodePool;for(var e=0;e<70;e++){var t=cc.instantiate(this.bullet);this.myBulletNodePool.put(t)}},createMyBullet:function(){var t=this,n=cc.director.getScene(),o=e("playerJS"),i=e("fire_dao_JS");"fire_flag"===o&&(o="",this.myBulletNodePool=i);var c=null;if(this.myBulletNodePool.size()>0){(c=this.myBulletNodePool.get()).parent=n,c.setPosition(this.plane.x+this.width/2,this.plane.y+this.height/2+30);var l=cc.moveBy(1,0,this.height),a=cc.callFunc(function(){t.myBulletNodePool&&t.myBulletNodePool.put(c)}),s=cc.sequence(l,a);c.runAction(s)}},planeControl:function(){var e=this;this.node.on("touchmove",function(t){t.getLocationX(),e.width,t.getLocationY(),e.height,e.plane.x,e.plane.y;e.plane.x+=t.getDelta().x,e.plane.y+=t.getDelta().y,e.plane.x<=-e.width/2+60&&(e.plane.x=-e.width/2+60),e.plane.x>e.width/2-60&&(e.plane.x=e.width/2-60),e.plane.y>e.height/2-30&&(e.plane.y=e.height/2-30),e.plane.y<-e.height/2+30&&(e.plane.y=-e.height/2+30)},this)},touchbishaFun:function(){this.bishaFlag--,cc.find("Canvas").getChildByName("zhongji").getComponent(cc.Label).string="\xd7"+this.bishaFlag;var e=cc.director.getScene(),t=cc.instantiate(this.bishachuxian);t.parent=e,t.setPosition(this.width/2,this.height+300);var n=cc.moveBy(.5,0,-t.height/2-300),o=cc.moveBy(2,0,0),i=cc.callFunc(function(){t.destroy()}),c=cc.sequence(n,o,i);t.runAction(c);var l=cc.instantiate(this.yuanqidan);l.parent=e,l.setPosition(this.width/2,-375);var a=cc.rotateBy(6,5e3),s=cc.moveBy(6,0,this.height+750),h=cc.spawn(a,s),u=cc.callFunc(function(){l.destroy()}),r=cc.sequence(h,u);l.runAction(r)},onLoad:function(){this.friendWuKongPoolFun(),this.schedule(function(){this.createFriendWukong()},1*Math.random()+1),this.schedule(function(){this.score++,this.scoreLabel.string="\u5f97\u5206:"+this.score},1),this.BossBulletPollFun(),this.enemyPlaneOnePoolFun(),this.schedule(function(){this.createEnemyPlaneOne()},1*Math.random()+1),this.enemyPlanePoolFun(),this.enemyPlaneBulletPollFun(),this.schedule(function(){this.enemyAppear()},1*Math.random()+.5),this.enemyladiciBulletPoolFun(),this.enemyPlaneThreePoolFun(),this.schedule(function(){this.createEnemyPlaneThree()},2*Math.random()+2),this.enemyPlaneFourPoolFun(),this.schedule(function(){this.createEnemyPlaneFour()},3*Math.random()+3),this.schedule(function(){this.bossCreate()},20*Math.random()+20,20),this.heiwukongBulletPollFun(),this.schedule(function(){this.heiwukongBossCreate()},20*Math.random()+20,20,800),this.planeControl(),this.myBulletNodePoolFun(),this.schedule(function(){this.createMyBullet()},.05*Math.random()+.15),this.schedule(function(){this.daojuFall()},5*Math.random()+10),this.schedule(function(){this.fireDaojuFall()},7*Math.random()+8),this.schedule(function(){this.chaoshenshuiFall()},15*Math.random()+15),this.schedule(function(){this.bishaFall()},30*Math.random()+30)},start:function(){var e=this;cc.director.preloadScene("gameover"),cc.audioEngine.setMusicVolume(.5),cc.audioEngine.playMusic(this.bgMusic,!0),this.width=this.node.width,this.height=this.node.height,cc.find("Canvas").getChildByName("yuanqidan").on("touchstart",function(){e.bishaFlag>0&&e.touchbishaFun()})},update:function(e){this.node.getChildByName("bg").y-=1,this.node.getChildByName("bg_1").y-=1,this.node.getChildByName("bg").y<=-this.height&&(this.node.getChildByName("bg").y=0),this.node.getChildByName("bg_1").y<=0&&(this.node.getChildByName("bg_1").y=this.height)}}),cc._RF.pop()},{chaoshenshuiJS:"chaoshenshuiJS",fire_dao_JS:"fire_dao_JS",playerJS:"playerJS"}],playerJS:[function(e,t,n){"use strict";cc._RF.push(t,"59edeV2FN1M9YVt4G4VW0Dv","playerJS"),cc.Class({extends:cc.Component,properties:{dieMusic:{type:cc.AudioClip,default:null},planeBlood:{type:cc.ProgressBar,default:null},daojuLabel:{type:cc.Label,default:null}},onLoad:function(){cc.director.preloadScene("gameover"),t.exports=""},onCollisionEnter:function(n,o){var i=this.planeBlood,c=this.daojuLabel,l="blood<PolygonCollider>",a=e("daojuJS"),s=n.name,h=cc.find("Canvas").getChildByName("zhongji"),u=cc.find("Canvas").getComponent("mainJS");cc.audioEngine.setEffectsVolume(.5),"fire_daoju<CircleCollider>"===s&&(t.exports="fire_flag"),"chaoshenshui<PolygonCollider>"===s&&(t.exports="chaoshenshui_flag"),"yuanqidan<CircleCollider>"===s&&(u.bishaFlag++,h.getComponent(cc.Label).string="\xd7"+u.bishaFlag),"enemy_bullet<CircleCollider>"===s||"didi<PolygonCollider>"===s||"ladici_bullet<CircleCollider>"===s?(i.totalLength-=50,cc.audioEngine.playEffect(this.dieMusic,!1)):"fulisha<PolygonCollider>"===s||"boss_bullet<PolygonCollider>"===s||"ladici<PolygonCollider>"===s||"beijita<PolygonCollider>"===s||"huaji_boss<PolygonCollider>"===s||"heiwukong<PolygonCollider>"===s||"heiwukongzidan<CircleCollider>"===s?(i.totalLength-=100,cc.audioEngine.playEffect(this.dieMusic,!1)):"huaji_boss<PolygonCollider>"===s&&(i.totalLength-=150,cc.audioEngine.playEffect(this.dieMusic,!1)),s===l&&i.totalLength<200&&"addBlood50"===a?(c.string="\u56de\u8840+50",i.totalLength+=50):s===l&&i.totalLength<=100&&"addBlood100"===a?(c.string="\u56de\u8840+100",i.totalLength+=100):s===l&&i.totalLength<=50&&"addBlood150"===a?(c.string="\u56de\u8840+150",i.totalLength+=150):s===l&&"reduceBlood"===a&&i.totalLength>50?(c.string="\u6263\u8840-50",i.totalLength-=50):s===l&&"none"===a?c.string="\u7a7a\u9053\u5177":s===l&&i.totalLength>=200&&"addBlood50"===a?c.string="\u9053\u5177\u4e0d\u751f\u6548":s===l&&i.totalLength>100&&"addBlood100"===a?c.string="\u9053\u5177\u4e0d\u751f\u6548":s===l&&i.totalLength>50&&"addBlood150"===a?c.string="\u9053\u5177\u4e0d\u751f\u6548":s===l&&"reduceBlood"===a&&i.totalLength<=50&&(c.string="\u9053\u5177\u4e0d\u751f\u6548"),this.scheduleOnce(function(){c.string=""},3),i.totalLength<=0&&this.node.parent&&(cc.sys.localStorage.setItem("score",cc.find("Canvas").getComponent("mainJS").score),cc.audioEngine.stopMusic(),this.node.removeFromParent(),this.node.parent=null,cc.director.loadScene("gameover"))},start:function(){},update:function(e){}}),cc._RF.pop()},{daojuJS:"daojuJS"}],yuanqidanJS:[function(e,t,n){"use strict";cc._RF.push(t,"94311VLgX1Gmo+dJs81D2wo","yuanqidanJS"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(){this.node.destroy()},start:function(){}}),cc._RF.pop()},{}]},{},["RankingView","beginJS","bossJS","bulletJS","chaoshenshuiJS","daojuJS","enemyJS","enemy_bullet_JS","enemy_one_JS","fire_dao_JS","friendJS","gameoverJS","mainJS","playerJS","yuanqidanJS"]);